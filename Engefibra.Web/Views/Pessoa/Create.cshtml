@model Engefibra.Data.Models.Pessoa
@{
    ViewBag.Title = Model.Id > 0 ? "Editar Pessoa: " + Model.Nome  : "Adicionar Pessoa";
}

<h2>@ViewBag.Title</h2>

<ul class="nav nav-tabs" role="tablist">
    <li role="presentation" class="active"><a href="#pessoa" aria-controls="home" role="tab" data-toggle="tab">Pessoa</a></li>
    @if(Model.Id > 0)
    { 
        <li role="presentation"><a href="#enderecos" aria-controls="profile" role="tab" data-toggle="tab">Endereços</a></li>
        <li role="presentation"><a href="#contatos" aria-controls="messages" role="tab" data-toggle="tab">Contatos</a></li>
    }
</ul>
<div class="tab-content" style="padding: 15px;">
    <div role="tabpanel" class="tab-pane active" id="pessoa">
        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(c => c.Id)
            <div class="form-horizontal well">
                @Html.ValidationSummary(true)

                <div class="form-group">
                    @Html.LabelFor(model => model.Nome, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Nome)
                        @Html.ValidationMessageFor(model => model.Nome)
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Sobrenome, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Sobrenome)
                        @Html.ValidationMessageFor(model => model.Sobrenome)
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.PessoaFisica, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.PessoaFisica)
                        @Html.ValidationMessageFor(model => model.PessoaFisica)
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.RgIE, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.RgIE)
                        @Html.ValidationMessageFor(model => model.RgIE)
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.CpfCnpj, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.CpfCnpj)
                        @Html.ValidationMessageFor(model => model.CpfCnpj)
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.PessoaTipoId, "PessoaTipoId", new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.DropDownList("PessoaTipoId", String.Empty)
                        @Html.ValidationMessageFor(model => model.PessoaTipoId)
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.ObraNotificacao, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.ObraNotificacao)
                        @Html.ValidationMessageFor(model => model.ObraNotificacao)
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.VeiculoNotificacao, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.VeiculoNotificacao)
                        @Html.ValidationMessageFor(model => model.VeiculoNotificacao)
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Salvar" class="btn btn-default" />
                    </div>
                </div>
            </div>
        }
    </div>
    @if(Model.Id > 0)
    { 
        <div role="tabpanel" class="tab-pane" id="enderecos">
            @Html.Action("Index", "PessoaEndereco", new { pessoaId = Model.Id })
        </div>
        <div role="tabpanel" class="tab-pane" id="contatos">
            @Html.Action("Index", "PessoaContato", new { pessoaId = Model.Id })
        </div>
    }
</div>
<div class="well">
    @Html.ActionLink("Voltar", "Index", null, new { @class = "btn btn-primary" })
</div>
